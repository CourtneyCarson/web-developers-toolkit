# Postgres Cheat Sheet

Using the Windows Command Line or the Mac Terminal app run:
* Acces the postgres Shell
```console
psql ( enter the password for postgressql)
```
* Postgres start and restart
```console
pg_ctl restart
```
* Create a User for Postgres
```console
createuser testuser
```
* Create Database
```console
createdb testdb
```
* Provide the privileges to the postgres user
```console
psql ( enter the password for postgressql)
```
```sql
alter user testuser with encrypted password 'qwerty';
grant all privileges on database testdb to testuser;
```
* Get all restaurants
```console
psql ( enter the password for postgressql)
```
```sql
SELECT * FROM restaurants;
```
* Get Italian restaurants Write a query that returns all of the Italian restaurants, with all of the fields
```console
psql ( enter the password for postgressql)
```
```sql
SELECT * FROM restaurants WHERE cuisine='Italian';
```
* Get 10 Italian restaurants, subset of fields Write a query that gets 10 Italian restaurants, returning only the id and name fields.
```console
psql ( enter the password for postgressql)
```
```sql
SELECT id, name FROM restaurants WHERE cuisine='Italian' LIMIT 10;
```
* Count of Thai restaurants Write a query that returns the number of Thai restaurants.
```console
psql ( enter the password for postgressql)
```
```sql
SELECT COUNT(*) FROM restaurants WHERE cuisine='Thai';
```
* Count of restaurants Write a query that returns the total number of restaurants.
```console
psql ( enter the password for postgressql)
```
```sql
SELECT COUNT(*) FROM restaurants;
```
* Count of Thai restaurants in zip code Write a query that returns the number of Thai restaurants in the 11372 zip code.
```console
psql ( enter the password for postgressql)
```
```sql
SELECT COUNT(*) FROM restaurants WHERE cuisine='Thai' AND address_zipcode='11372';
```

* Italian restaurants in one of several zip codes Write a query that returns the id and name of five Italian restaurants in the 10012, 10013, or 10014 zip codes. The initial results (before limiting to five) should be alphabetically sorted.
```console
psql ( enter the password for postgressql)
```
```sql
SELECT id, name FROM restaurants WHERE cuisine='Italian' AND (address_zipcode='10012' OR address_zipcode='10013' OR address_zipcode='10014') ORDER BY name LIMIT 5 ;
```

* Create a restaurant Create a restaurant with the following properties: name: 'Byte Cafe', borough: 'Brooklyn', cuisine: 'coffee', address_building_number: '123', address_street: 'Atlantic Avenue', address_zipcode: '11231'
```console
psql ( enter the password for postgressql)
```
```sql
INSERT INTO restaurants (name, borough, cuisine, address_building_number, address_street, address_zipcode) VALUES ('Byte Cafe', 'Brooklyn', 'coffee', '123', 'Atlantic Avenue', '11231') ;
```

* Create a restaurant and return id and name Create a restaurant with values of your choosing, and return the id and name.
```console
psql ( enter the password for postgressql)
```
```sql
INSERT INTO restaurants (name, borough, cuisine, address_building_number, address_street, address_zipcode) VALUES ('Byte Cafe', 'Brooklyn', 'coffee', '123', 'Atlantic Avenue', '11231') RETURNING id, name ;
```

* Create three restaurants and return id and name Create three restaurants using a single command, with values of your choosing, returning the id and name of each restaurant.
```console
psql ( enter the password for postgressql)
```
```sql
INSERT INTO restaurants (name, borough, cuisine, address_building_number, address_street, address_zipcode) VALUES ('One Cafe', 'Brooklyn', 'coffee', '123', 'Atlantic Avenue', '11231'), ('Two Cafe', 'Brooklyn', 'coffee', '123', 'Atlantic Avenue', '11231'), ('Three Cafe', 'Brooklyn', 'coffee', '123', 'Atlantic Avenue', '11231') RETURNING id, name ;
```

* Update a record Update the record whose value for nyc_restaurant_id is '30191841'. Change the name from 'Dj Reynolds Pub And Restaurant' to 'DJ Reynolds Pub and Restaurant'.
```console
psql ( enter the password for postgressql)
```
```sql
UPDATE restaurants SET name='DJ Reynolds Pub and Restaurant' WHERE nyc_restaurant_id='30191841';
```

* Delete by id Delete the grade whose id is 10.
```console
psql ( enter the password for postgressql)
```
```sql
DELETE FROM grades WHERE id=10;
```

* Create a table Create a new table called inspectors with the following properties: first_name: String of inspector's first name, required last_name: String of inspector's last name, required. Inspectors should also have a system generated primary key property, id.
```console
psql ( enter the password for postgressql)
```
```sql
CREATE TABLE inspectors ( id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, first_name TEXT NOT NULL, last_name TEXT NOT NULL);
```

* Update a table Add a notes field to the grades table. notes are not required, and are text.
```console
psql ( enter the password for postgressql)
```
```sql
ALTER TABLE grades ADD COLUMN notes TEXT;
```

* Drop a table Drop the inspectors table from the database.
```console
psql ( enter the password for postgressql)
```
```sql
DROP TABLE inspectors;
```
